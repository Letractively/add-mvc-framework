#summary Getting Started with add mvc
#labels Phase-Deploy,Featured
= Basic Files =
== Config ==
First you need a config variable:
{{{
<?php
$C = (object) array(
      'add_dir'            => realpath('includes/frameworks/add'),
      'environment_status' => 'development',
   );
}}}

Either you put it on a new file (eg. config.php) or on the main root execution file (eg. add.php)

== Main Execution File ==
*eg. add.php*
Then you'll need to create the main execution file:
{{{
<?php

require '../config.php';

require $C->add_dir.'/init.php';

add::current_controller()->execute();

}}}

== .htaccess Rewrite ==
and create an htaccess rewrite, notice that "add.php" is used, depending on the name of your _main execution file_
{{{
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)$ add.php?add_mvc_path=$1&%{QUERY_STRING} [L]
RewriteRule ^$ add.php?add_mvc_path=$1&%{QUERY_STRING} [L]
}}}

= Classes =
== Your First Controller ==
To overwrite the default index page, you should make <ctrl_page_index.class.php> file under your includes/classes directory.

Example:

{{{
<?php
CLASS ctrl_page_index EXTENDS ctrl_tpl_page {
   public function process_data() {
      $this->assign('utc_timestamp',@gmmktime());
   }

}
}}}
== Your ADODB connection ==
before models could work, you will need to get the ADODB connection:
{{{
CLASS my_adodb_mysql EXTENDS add_adodb_mysql {
   /**
    * googlecode todo: add code here
    */
}
}}}
== Your First Model ==
{{{
/**
 * A model representing `members` table
 */
CLASS member EXTENDS model_auth {
   /**
    * The table of this model
    */
   const TABLE = 'members';
   /**
    * The primary key of this model
    */
   const TABLE_PK = 'id';
   /**
    * The db abstraction layer
    */
   public static function db() {
      return my_adodb_mysql::singleton();
   }
}
}}}